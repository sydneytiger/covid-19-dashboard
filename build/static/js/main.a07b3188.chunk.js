(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{175:function(e,a,t){e.exports=t(377)},180:function(e,a,t){},181:function(e,a,t){},374:function(e,a,t){},375:function(e,a,t){},376:function(e,a,t){},377:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(49),l=t.n(c),o=(t(180),t(181),t(138)),s=t.n(o),i=t(139),u=t(140),d=new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"hasCache",value:function(e){return!!window.localStorage.getItem(e)}},{key:"getCache",value:function(e){var a=window.localStorage.getItem(e);return JSON.parse(a)}},{key:"setCache",value:function(e,a){window.localStorage.setItem(e,JSON.stringify(a))}},{key:"clearCache",value:function(e){window.localStorage.removeItem(e)}}]),e}()),m=function(e,a,t){return a?"".concat(e,"?cacheParams=").concat(a):"".concat(e,"?cacheParams=").concat(t)},h=s.a.create({baseURL:"https://disease.sh"});h.interceptors.request.use((function(e){return function(e){if("GET"===e.method.toUpperCase()){var a=e.url,t=e.data,n=e.params,r=m(a,t,n);if(d.hasCache(r)){var c=d.getCache(r);if((new Date).getTime()<c.expire)return console.log("serving cached data"),e.headers.cached=!0,e.data=d.getCache(r).result,Promise.reject(e);d.clearCache(r)}}return e}(e)})),h.interceptors.response.use((function(e){return function(e){if("GET"===e.config.method.toUpperCase()){if(200!==e.status)return e.data;var a=e.config,t=a.url,n=a.data,r=a.params,c={expire:(new Date).getTime()+36e5,params:r,data:n,result:e.data},l=m(t,n,r);d.setCache(l,c)}return e}(e)}),(function(e){return function(e){return e.headers&&!0===e.headers.cached?Promise.resolve(e):Promise.reject(e)}(e)}));var y=h,v=t(31),p=t(50),E=t(9);var f=function(e,a){var t=a.initialData,r=void 0===t?null:t,c=a.dataRefiner,l=void 0===c?function(e){return e}:c,o=Object(n.useCallback)(l,[]),s=Object(n.useState)(r),i=Object(v.a)(s,2),u=i[0],d=i[1];return Object(n.useEffect)((function(){y(e).then((function(e){d(o(e.data))}))}),[e,o]),u};var g=r.a.memo((function(e){var a=e.text;return r.a.createElement("div",{style:{textAlign:"center",margin:"50px 0"}},r.a.createElement("h1",null,a))}));var C=function(){var e=Object(n.useContext)(N).dispatch;return r.a.createElement("div",{className:"center margin-top-l "},r.a.createElement("label",{htmlFor:"key-select"},"You concern on: "),r.a.createElement("select",{id:"key-select",onChange:function(a){e({type:"SET_DATAKEY",payload:a.target.value})}},r.a.createElement("option",{value:"cases"},"Overall Cases"),r.a.createElement("option",{value:"deaths"},"Overall Deaths"),r.a.createElement("option",{value:"todayCases"},"Today Cases"),r.a.createElement("option",{value:"recovered"},"Recovered"),r.a.createElement("option",{value:"active"},"Active")))},b=t(8);var O=function(e){var a=e.data,t=e.dataKey,c=Object(n.useContext)(N),l=c.state,o=c.dispatch;return f("".concat("/v2/countries/","?sort=").concat(l.dataKey),{initialData:[],dataRefiner:function(e){return o({type:"SET_COUNTRY_DATA",payload:e.slice(0,10)})}}),r.a.createElement(b.d,{width:1200,height:250,style:{margin:"auto"},margin:{top:30,left:20,right:30},data:a,onClick:function(e){o({type:"SET_COUNTRY",payload:e.activeLabel})}},r.a.createElement(b.e,{strokeDasharray:"3 3"}),r.a.createElement(b.h,{dataKey:"country"}),r.a.createElement(b.i,null),r.a.createElement(b.g,null),r.a.createElement(b.f,null),r.a.createElement(b.c,{dataKey:t,fill:"#1B4F72"}))};t(374);var D=function(e){var a=e.data,t=a.cases,n=a.active,c=a.deaths,l=a.recovered,o=a.updated;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"center"},"Updated on ",new Date(o).toLocaleString()),r.a.createElement("div",{className:"globalStats-grid"},r.a.createElement("div",null,"Cases:",r.a.createElement("span",{className:"red"},(new Intl.NumberFormat).format(t))),r.a.createElement("div",null,"Deaths: ",r.a.createElement("span",{className:"gray"},(new Intl.NumberFormat).format(c))),r.a.createElement("div",null,"Active: ",r.a.createElement("span",{className:"orange"},(new Intl.NumberFormat).format(n))),r.a.createElement("div",null,"Recovered: ",r.a.createElement("span",{className:"green"},(new Intl.NumberFormat).format(l)))))},j={Cases:"#D0021B",Deaths:"#4A4A4A",Recovered:"#09C79C"};var w=function(e){var a=e.dataKey,t=e.data,n=e.lastDays,c=e.onLastDaysChange,l=j[a];return r.a.createElement("div",null,r.a.createElement(b.b,{width:400,height:150,data:t.slice(-n),margin:{top:10,right:30,left:10,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:a,x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:l,stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:l,stopOpacity:0}))),r.a.createElement(b.h,{dataKey:"time"}),r.a.createElement(b.i,null),r.a.createElement(b.e,{strokeDasharray:"3 3"}),r.a.createElement(b.g,null),r.a.createElement(b.a,{type:"monotone",dataKey:"number",stroke:l,fillOpacity:1,fill:"url(#".concat(a,")")})),r.a.createElement("h3",null,a),r.a.createElement("input",{type:"range",min:"1",max:"30",value:n,onChange:c}),"Last ",n," days")};t(375);var T=function(){var e=Object(n.useContext)(N),a=e.state,t=e.dispatch,c=a.selectedCountry,l=a.lastDays,o=a.historyData;f("".concat("/v2/historical/").concat(c),{initialData:{},dataRefiner:function(e){return t({type:"SET_HISTORY_DATA",payload:e.timeline})}});var s=function(e,a){t({type:"SET_LAST_DAYS",key:a,payload:e.target.value})},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).map((function(e){var a=Object(v.a)(e,2);return{time:a[0],number:a[1]}}))};return r.a.createElement("div",{className:"center"},r.a.createElement("h2",null,c," history data"),r.a.createElement("div",{className:" history-group"},r.a.createElement(w,{dataKey:"Cases",data:i(o.cases),lastDays:l.cases,onLastDaysChange:function(e){return s(e,"cases")}}),r.a.createElement(w,{dataKey:"Deaths",data:i(o.deaths),lastDays:l.deaths,onLastDaysChange:function(e){return s(e,"deaths")}}),r.a.createElement(w,{dataKey:"Recovered",data:i(o.recovered),lastDays:l.recovered,onLastDaysChange:function(e){return s(e,"recovered")}})))},S=(t(376),{dataKey:"cases",selectedCountry:"",countryData:[],historyData:{},error:null,lastDays:{cases:30,deaths:30,recovered:30}}),A=function(e,a){switch(a.type){case"SET_COUNTRY_DATA":return Object(E.a)(Object(E.a)({},e),{},{countryData:a.payload});case"SET_DATAKEY":return Object(E.a)(Object(E.a)({},e),{},{dataKey:a.payload});case"SET_COUNTRY":return Object(E.a)(Object(E.a)({},e),{},{selectedCountry:a.payload});case"SET_HISTORY_DATA":return Object(E.a)(Object(E.a)({},e),{},{historyData:a.payload});case"SET_LAST_DAYS":return Object(E.a)(Object(E.a)({},e),{},{lastDays:Object(E.a)(Object(E.a)({},e.lastDays),{},Object(p.a)({},a.key,a.payload))});case"ERROR":return Object(E.a)(Object(E.a)({},S),{},{error:a.payload,loading:!1});default:return e}},N=r.a.createContext();function k(){var e=Object(n.useReducer)(A,S),a=Object(v.a)(e,2),t=a[0],c=a[1],l=t.dataKey,o=t.selectedCountry,s=t.countryData,i=f("/v2/all",{initialData:{}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{text:"Covide-19 Statistic"}),r.a.createElement(D,{data:i}),r.a.createElement(N.Provider,{value:{state:t,dispatch:c}},r.a.createElement(C,null),r.a.createElement(O,{data:s,dataKey:l}),o?r.a.createElement(T,{selectedCountry:o}):r.a.createElement("div",{className:"center"},r.a.createElement("h3",null,"Click on a country to show its history."))))}var R=function(){return window.api=y,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.a07b3188.chunk.js.map